name: "AWS Secret Manager"
description: "Reads AWS Secret Manager and creates enviroment variables"
runs:
  using: "composite"
  steps:
      - name: Read secrets from AWS Secrets Manager into environment variables
        uses: abhilash1in/aws-secrets-manager-action@v1.0.1
        with:
            aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
            aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            aws-region: us-east-1
            secrets: |
                beagle/core/*
                beagle/docs/aws
            parse-json: true